Library for controlling the e-ink display of the Xiaomi temperature and humidity pro device.

![](media/XiaomiMijaPro.jpg)

After disassembly, the display itself can be connected via a breakout board:

![](media/with_breakout_board.jpg)

Controlling the e-ink display is somewhat similar to the other Xiaomi device described [here](https://github.com/GitJer/XiaomiMiaoMiaoCe). I haven't found what driver IC is used, so with the help of a logic analyzer I reverse engineered the protocol.

I used an ESP8266 (Wemos D1 mini) to control the display. The connections from the flat-flex-to-pins breakout board to the ESP8266 are as follows.

The flat flex contains 10 connections with a 0.5mm spacing with numbering as indicated in the image above. The following connections (defined in XiaomiMijaTempHumPro.h) to the ESP8266 are made:

| Breakout | ESP8266| Function  |
| -------- |:-------|:-----     |
| 1        | D2     | BUSY_N    |
| 2        | D5     | RST_N     |
| 3        | 3V3    | 3V3       |
| 4        | D7     | SPI ENABLE|
| 5        | D1     | SPI CLK   |
| 6        | D6     | SPI MOSI  |
| 7        | -      | -         |
| 8        | GND    | GND       |
| 9        | -      | -         |
| 10       | -      | -         |

The BUSY_N signal is generated by the driver IC to indicate it is ready to receive new data. So it is an input to the ESP8266. The other signals are outputs from the ESP8266 to the display driver.
